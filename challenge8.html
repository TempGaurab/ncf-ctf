<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Challenge 8: Story Fill in the Blanks</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="../css/style.css" rel="stylesheet" />
  </head>
  <body class="bg-gray-900 text-white min-h-screen">
    <nav
      class="bg-gradient-to-r from-gray-900 to-gray-800 p-6 sticky top-0 z-50 shadow-xl"
    >
      <div class="container mx-auto flex justify-between items-center">
        <h1
          class="text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent"
        >
          Challenge 8: Story Fill in the Blanks
        </h1>
        <a
          href="https://tempgaurab.github.io/ncf-ctf/"
          class="text-green-400 hover:text-green-300 flex items-center space-x-2 transition-colors duration-300"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 17l-5-5m0 0l5-5m-5 5h12"
            />
          </svg>
          <span>Back to Challenges</span>
        </a>
      </div>
    </nav>

    <main class="container mx-auto px-4 py-12">
      <div class="max-w-4xl mx-auto bg-gray-800 p-8 rounded-xl shadow-lg">
        <h2 class="text-3xl font-bold text-center text-green-400 mb-6">
          The Cyber Breach Investigation
        </h2>
        <p class="text-gray-300 text-center mb-8">
          Complete the story by filling in the blanks with the correct answers
          from past challenges.
        </p>

        <div class="bg-gray-700 p-6 rounded-lg mb-8 leading-relaxed">
          <p class="text-gray-200 text-lg story-text">
            In the sleek, glass-walled headquarters of GlobalTech Solutions, a
            team of data security specialists worked around the clock,
            monitoring suspicious activities across their vast network of
            <span class="blank-space" data-blank-id="1">_______</span> servers.
            Among them was Alex Chen, their lead incident response specialist
            and digital
            <span class="blank-space" data-blank-id="6">_______</span>, known
            for tracking down even the most elusive cyber threats.
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            "We've got something unusual," called out Mia from across the room.
            "Server farm six is showing an unusual data extraction pattern."
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            Alex hurried over and studied her screen. The attackers had left
            behind a small text file—a digital
            <span class="blank-space" data-blank-id="3">_______</span>—something
            they hadn't seen before in previous breach attempts. It was almost
            as if they wanted to be identified.
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            "This isn't your typical attack," Alex murmured, "They're targeting
            the
            <span class="blank-space" data-blank-id="2">_______</span>
            Technologies Division—specifically our medical database
            architecture."
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            "How many files were accessed?" asked Director Patel, who had just
            entered the room after receiving the security alert.
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            Alex checked the logs. "Exactly
            <span class="blank-space" data-blank-id="5">_______</span> files—all
            related to the same project."
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            As the team worked to trace the breach, Alex noticed something
            unusual about the network traffic patterns. Instead of examining the
            code traditionally, he ran it through a
            <span class="blank-space" data-blank-id="7">_______</span> wave
            analyzer—a technique he had pioneered that converted data patterns
            into audible frequencies to reveal hidden structures.
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            "Listen to this," he said, playing the audio conversion through the
            speakers. "Hear that repeating pattern? It's a signature I've only
            seen once before—from the Crimson Collective."
          </p>

          <p class="text-gray-200 text-lg mt-4 story-text">
            The Crimson Collective was a mysterious hacker group rumored to
            operate from a medical research facility specializing in rare blood
            types. Their previous targets had all been companies working on
            blood research, particularly those focused on the rare
            <span class="blank-space" data-blank-id="4">_______</span> blood
            type.
          </p>
        </div>

        <form id="fill-blanks-form" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-lg font-medium text-white mb-2">
                1. Server network type (Word from Question 1)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer1"
                placeholder="Your answer"
                data-answer="Data"
              />
            </div>

            <div>
              <label class="block text-lg font-medium text-white mb-2">
                2. Division name (Word from Question 2)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer2"
                placeholder="Your answer"
                data-answer="Healthy"
              />
            </div>

            <div>
              <label class="block text-lg font-medium text-white mb-2">
                3. Digital file left behind (Word from Question 3)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer3"
                placeholder="Your answer"
                data-answer="COOKIE"
              />
            </div>

            <div>
              <label class="block text-lg font-medium text-white mb-2">
                4. Rare blood type (Word from Question 4)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer4"
                placeholder="Your answer"
                data-answer="AB+"
              />
            </div>

            <div>
              <label class="block text-lg font-medium text-white mb-2">
                5. Number of accessed files (Word from Question 5)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer5"
                placeholder="Your answer"
                data-answer="38"
              />
            </div>

            <div>
              <label class="block text-lg font-medium text-white mb-2">
                6. Digital investigator title (Word from Question 6)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer6"
                placeholder="Your answer"
                data-answer="Sleuth"
              />
            </div>

            <div class="md:col-span-2">
              <label class="block text-lg font-medium text-white mb-2">
                7. Analysis technique (Word from Question 7)
              </label>
              <input
                type="text"
                class="w-full bg-gray-700 border border-gray-600 text-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:border-green-400"
                id="answer7"
                placeholder="Your answer"
                data-answer="Sound"
              />
            </div>
          </div>

          <button
            type="button"
            onclick="checkAnswers()"
            class="w-full bg-gradient-to-r from-green-400 to-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:from-green-500 hover:to-blue-600 transition duration-300"
          >
            Submit Answers
          </button>
        </form>

        <div
          id="completion-message"
          class="hidden mt-6 bg-green-400/10 border border-green-400 rounded-lg p-4 text-center"
        >
          <p class="text-green-400 font-bold mb-2">Investigation Complete!</p>
          <p class="text-gray-300">
            You've successfully decoded the cyber attack details and identified
            the threat actors.
          </p>
          <p class="text-gray-300 mt-2">
            The final word that I want you to answer me is "Happiness". Write
            this word in the board in front of the class in order to finish this
            challenge.
          </p>
        </div>
      </div>
    </main>

    <script>
      function checkAnswers() {
        const answers = {
          answer1: "Data",
          answer2: "Healthy",
          answer3: "COOKIE",
          answer4: "AB+",
          answer5: "38",
          answer6: "Sleuth",
          answer7: "Sound",
        };
        let allCorrect = true;

        Object.keys(answers).forEach((id) => {
          const inputElement = document.getElementById(id);
          const userAnswer = inputElement.value.trim().toLowerCase();
          const correctAnswer = answers[id].toLowerCase();

          if (userAnswer === correctAnswer) {
            inputElement.classList.add("border-green-400", "bg-green-400/10");
            inputElement.classList.remove("border-red-400", "bg-red-400/10");
          } else {
            inputElement.classList.add("border-red-400", "bg-red-400/10");
            inputElement.classList.remove(
              "border-green-400",
              "bg-green-400/10"
            );
            allCorrect = false;
          }
        });

        // Update story blanks with user answers or correct answers
        Object.keys(answers).forEach((id) => {
          const blankId = id.replace("answer", "");
          const blankSpaces = document.querySelectorAll(
            `[data-blank-id="${blankId}"]`
          );

          blankSpaces.forEach((blank) => {
            if (allCorrect) {
              blank.textContent = answers[id];
              blank.classList.add("text-green-400", "font-bold");
            } else {
              blank.textContent = "_______";
              blank.classList.remove("text-green-400", "font-bold");
            }
          });
        });

        document
          .getElementById("completion-message")
          .classList.toggle("hidden", !allCorrect);

        // Scroll to top of story if all correct
        if (allCorrect) {
          document
            .querySelector(".story-text")
            .scrollIntoView({ behavior: "smooth" });
        }
      }

      // Add highlighting to blank spaces
      document.addEventListener("DOMContentLoaded", function () {
        const blankSpaces = document.querySelectorAll(".blank-space");
        blankSpaces.forEach((blank) => {
          blank.classList.add(
            "px-1",
            "py-0.5",
            "border-b-2",
            "border-green-400",
            "text-gray-300"
          );
        });
      });
    </script>
  </body>
</html>
